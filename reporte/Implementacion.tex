En este capítulo se presentan los conceptos fundamentales para el desarrollo del sistema de riego automatizado.
\section{Sistema de riego}
Es el conjunto de estructuras, que permite determinar que área pueda ser cultivada aplicándole el agua necesaria a las plantas. Este consta de varios componentes. El conjunto de componentes dependerá de si se trata de riego superficial, por aspersián, o por goteo.

\section{Ventajas de Instalar un Sistema de Riego}
\begin{itemize}
	\item Se logran altos grados de automatización, basados en el ahorro de mano de obra, agua y energía.
\item 	Los equipos son adaptables a cualquier tipo de terreno.
	\item Estos sistemas son adaptables a la rotación de plantas y a riesgos estratégicos.
	\item Permite el crecimiento vertical de las plantas.
\end{itemize}

\section{Tipos de sistemas de riego}

\subsection{Riego por aspersión}

\begin{wrapfigure}[9]{l}{7cm}
	\begin{center}
		\includegraphics[width=6cm]{aspersion}
	
		\caption{Riego por aspersión}
\end{center}
	\label{as}
\end{wrapfigure}

Es aquel sistema de riego que trata de imitar a la lluvia. Es
decir, el agua destinada al riego se hace llegar a las plantas por medio de tuberías y mediante unos pulverizadores, llamados aspersores y, gracias a una presión determinada, el agua se eleva para que luego caiga pulverizada o en forma de gotas sobre la superficie que se desea regar. En la Figura \ref{as} se puede apreciar un modelo de sistema de riego por aspersión.



\subsubsection{Ventajas de riego por aspersión}
\begin{itemize}
	\item Ahorro en mano de obra. Una vez puesto en marcha no necesita especial atención. Existen en el mercado eficaces programadores activados por electroválvulas conectadas a un reloj que, por sectores y por tiempos, activaráa el sistema según las necesidades previamente programadas, con lo cual la mano de obra es prácticamente
	inexistente.
	\item Adaptación al terreno. Se puede aplicar tanto a terrenos lisos como a los ondulados, no necesitando allanamiento ni preparación de las tierras.
	\item La eficiencia del riego por aspersión. Es de un 80\% frente al 50\% en los riegos por inundación tradicionales. En consecuencia, el ahorro en agua es un factor muy importante a la hora de valorar este sistema.
	\item Especialmente útil para distintas clases de suelos. Ya que permite riegos frecuentes y poco abundantes en superficies poco permeables.
	\end{itemize}
	
\subsection{Riego por goteo automático}
\begin{wrapfigure}[9]{r}{7cm}
	\begin{center}
		\includegraphics[width=6cm]{goteo}
	\end{center}
	\caption{Riego por goteo automático}
	\label{goteo}
\end{wrapfigure}
	El riego por goteo (Figura \ref{goteo}) consiste en colocar tubos en hilera cerca de los tallos de las plantas y a través de los goteros que se insertan en los tubos o tuberías el agua va fluyendo gota a gota de una manera constante o por tiempo limitado, según cómo lo
programemos. Las tuberías pueden estar enterradas ligeramente o colocadas de manera superficial sobre la tierra.


\subsubsection{Ventajas del riego por goteo automático}
\begin{itemize}
	\item Se ahorra tiempo y esfuerzo en regar y puedes dedicarte a otras labores en el huerto o jardín al tener la opción de automatizar los riegos.
	\item Se ahorra agua y se hace un uso más sostenible y eficiente de ésta al ser un método de riego de bajo consumo.
	\item El riego por goteo permite llevar a cabo la fertirrigación a la vez que se riega, es decir, aportar al agua preparados con nutrientes para mejorar la fertilidad de la tierra o para prevenir y combatir plagas y enfermedades.
	\item Las raíces de las plantas con riego por goteo tienden a crecer de manera vertical o	profunda en lugar de horizontal o paralela al suelo, llegando a acceder a los nutrientes de las capas más profundas del suelo y a almacenar más agua.
	\item	Como no se mojan las partes áereas de las plantas, no hay problemas de que éstas	se quemen por el sol una vez mojadas o que aparezcan plagas y enfermedades.
		\item Como podemos programar y automatizar los riegos, este sistema es ideal para cuando no podemos atender el huerto o jardín o nos vamos de vacaciones y que nuestras plantas sigan recibiendo agua.
\item 	Un sistema de riego por goteo se puede usar y adaptar a todo tipo de huertos y jardines.
\end{itemize}
\section{Riego de superficie}
El riego por superficie (o de gravedad) continúa teniendo una importancia relevante en el desarrollo del regadío, no sólo porque corresponde aproximadamente al 80\% de las áreas regadas del Mundo, sino porque continúa siendo el método més apropiado, técnicamente, para suelos llanos y pesados, y, económicamente, para muchos cultivos y sistemasde producción. Los sistemas de riego de gravedad son muchos, en correspondencia con los procesos de aplicación del agua a las parcelas regadas. Estos se resumen esencialmente a los sistemas de surcos, canteros, fajas, surcos a nivel y riego de esparcimiento. Los sistemas de surcos y fajas son llamados de infiltración porque se aplican caudales suficientemente grandes, para que el agua fluya sobre el terreno, y, sucientemente pequeños, para que se vaya infiltrando mientras fluye, de forma que el agua deja de estar sobre el terreno en cuanto se corta el suministro. Se trata, pues, de riego de larga duración, al contrario del riego por canteros.

\subsection{Factores que influyen en el sistema de riego}
\begin{itemize}
	\item Profundidad de las raíces: El volumen de agua almacenado por cada tipo de suelo se va a ser aprovechado de distinta manera en función de la planta, de su superficie foliar y del desarrollo y la profundidad efectiva de su sistema radicular, principalmente.
	Es por este motivo por el que debemos considerar estos aspectos para determinar	los volúmenes de agua precisos a aportar en los distintos riegos y la frecuencia de los mismos. En la mayoría de las plantas la profundidad efectiva de las raíces se encuentra entre los 50 y 100 cm.
	\item Textura del suelo: indica el contenido relativo de partículas de diferente tamaño, como la arena, el limo y la arcilla, en el suelo. La textura tiene que ver con la facilidad con que se puede trabajar el suelo, la cantidad de agua y aire que retiene y la velocidad con que el agua penetra en el suelo y lo atraviesa.
\item 	Temperatura media: La velocidad del crecimiento de las plantas la determina la	temperatura diurna promedio. Para determinar este promedio se debe multiplicar la temperatura diurna promedio por el número de horas de luz del dí amás la temperatura nocturna promedio multiplicada por el número de horas de oscuridad divido por 24.
\item 	Humedad relativa: Los niveles de humedad uctúan con el cambio de la temperatura del aire y, además, las plantas transpiran y agregan vapor de agua al ambiente constantemente. En las áreas climáticas del norte, estos desafíos se multiplican por muchos factores, como que el aire exterior más seco es demasiado frío para realizar intercambios de aire. El aire húmedo contribuye directamente a los problemas, como
enfermedades de las raíces y las hojas, secado lento del sustrato, estrés de las plantas, pérdida de calidad, pérdida de producción, etc. Por lo tanto, se necesitan más pesticidas para el control de las enfermedades y las plantas tenderán a tener un crecimiento débil y estirado, lo que las haría menos atractivas. Si la humedad es demasiado baja, con frecuencia el crecimiento de las plantas se vería afectado.
Además, a menudo se caen las hojas inferiores, el crecimiento es difícil y la calidad en general no es muy buena.
\end{itemize}

\subsection{Raspberry}
\begin{wrapfigure}[8]{l}{7cm}
	\begin{center}
		\includegraphics[width=6cm]{ras}
	\end{center}
	\caption{Raspberry Pi 3}
	\label{ras}
\end{wrapfigure}
Raspberry PI es una placa computadora (SBC) de bajo coste, se podría decir que es un ordenador de tamaño reducido, del orden de una tarjeta de crédito, desarrollado en el Reino Unido por la Fundación Raspberry PI (Universidad de Cambridge) en 2011, con el objetivo de estimular la enseñanza de la informática en las escuelas, aunque no empezó su comercialización hasta el año 2012.
El concepto es el de un ordenador desnudo de todos los accesorios que se pueden eliminar sin que afecte al funcionamiento básico. Está formada por una placa que soporta varios componentes necesarios en un ordenador común y es capaz de comportarse como tal.
Una Raspberry es también un sistema digital de procesamiento y que funciona gracias a un sistema operativo. 
En esencia, el Raspberry Pi es una placa de un tamaño minúsculo, posee un micro procesador ARM con potencia de hasta 1GHz, integrado en un chip Broadcom BCM2835. Además cuenta con 512 MB de RAM, un GPU Videocore IV, todo lo necesario para poder ejecutar programas básicos, navegar por internet y por supuesto programar.
Para trabajar con un Raspberry Pi se requiere almacenamiento que en este caso específico debe ser una tarjeta de memoria SD o microSD. Al contar con todos estos elementos, sólo debe conectarse a la corriente eléctrica. Las placas más modernas cuentan con hasta 4 puertos USB para conectar teclado y mouse, un conector HDMI con capacidad de  reproducir vídeo en 1080p y hasta una conexión Ethernet para poder tener internet vía cable.

\subsubsection{Ventajas de la Raspberry}
\begin{itemize}
	\item Bajo consumo, aproximadamente consume 700mA (sin accesorios ni overclocking), lo que nos permite tenerlo encendido.
	\item Bajo precio,  es accesible para todos y es más rentable comprar uno para propios proyectos que pagar un servidor por ejemplo.
	\item Accesorios de fácil disponibilidad. Siendo su fuente de alimentación un cargador de un móvil y su almacenamiento una memoria SD, podemos decir que cualquiera tiene esto en casa.
	\item Tamaño reducido. La placa completa puede ser algo más grande que una tarjeta de crédito, lo que permite llevarla a cualquier sitio e instalarla en lugares con poco espacio.
	\item Cuenta con la mayoría de programas que podemos tener en linux, como apache, samba, mysql, transmission,xbmc etc.
\end{itemize}

\section{Sensor de temperatura DS18B20}
El sensor de temperatura DS18B20 es un dispositivo que se comunica de forma digital. Cuenta con tres terminales, los dos de alimentación y el pin data. Con Arduino se lee la temperatura que registra este sensor que posee la característica onewire.

\begin{wrapfigure}[10]{r}{7cm}
	\begin{center}
		\includegraphics[width=6cm]{sensor1}
	\end{center}
	\caption{Sensor de temperatura DS18B20}
	\label{s1}
\end{wrapfigure}  

\subsubsection{Características}
\begin{itemize}
\item 	Es un termómetro digital de alta precisión, entre 9 y 12 bits de temperatura en grados Celsius (el usuario puede escoger la precisión deseada).
	\item Su temperatura operativa se encuentra entre 50 y 125 grados Celsius. La precisión, en el rango comprendido entre 10 y 85 grados es de 0.5 grados.
\item 	Se puede escoger entre el modelo sumergible y los modelos para uso en placas de circuitos.
\end{itemize}

\section{Sensor de humedad FC28}
\begin{wrapfigure}[10]{l}{6cm}
	\begin{center}
		\includegraphics[width=5cm]{sensor2}
	\end{center}
	\caption{Sensor de humedad FC28}
	\label{s2}
\end{wrapfigure}
Con este sensor se implementa un sistema para hacer que indique cuando este demasiado seca la tierra y así automatizar el proceso de regado
de las plantas, o también se adecua a la necesidad puntual que tengas ya que es completamente compatible con Arduino u otro controlador.
Este sensor utiliza las dos sondas para pasar corriente a través del suelo, y luego se lee que la resistencia para obtener el nivel de humedad. Más agua hace que la electricidad pase más fácilmente
(menos resistencia), mientras que el suelo seco conduce mal la electricidad (mayor resistencia).
  
\subsubsection{Características}
\begin{itemize}
\item Voltaje de funcionamiento: 3.3v - 5v
\item Señal de salida: 0 - 4.2 v
\item Consumo de corriente: 35mA
\end{itemize}

\section{Sensor de flujo YF-S201}

El YF-S201 es un sensor de flujo de construcción sólida el cual esta constituido por un cuerpo de plástico, un rotor de agua, y un sensor de efecto Hall.\\
\begin{wrapfigure}[8]{r}{7cm}
	\begin{center}
		\includegraphics[width=6cm]{sensor3.jpg}
	\end{center}
	\caption{Sensor de flujo YF-S201}
	\label{s3}
\end{wrapfigure}  
El diseño y el funcionamiento de este tipo de sensor es simple. Utiliza un sensor con aspas o álabes para medir la cantidad de líquido que se ha movido a través de él. El molino de viento tiene un pequeño imán atado y hay un sensor magnético de efecto Hall en el otro lado del tubo que registra cada vuelta del molino de viento, esto genera impulsos de
salida a una velocidad proporcional a la velocidad de flujo.
Al contar los pulsos de la salida del sensor, puede seguir fácilmente el movimiento del ruido: cada pulso es de aproximadamente 2,25 mililitros.
El YF-S201 es adecuado para un tubo estándar de 1/2 y se puede insertar fácilmente en un sistema de tuberías estándar.

\section{Modulo RTC DS3231}
\begin{wrapfigure}[9]{l}{6cm}
	\begin{center}
		\includegraphics[width=5cm]{sensor4.jpg}
	\end{center}
	\caption{Modulo RTC DS3231}
	\label{s4}
\end{wrapfigure}  
Es un reloj en tiempo real (RTC) de bajo costo y gran
precisión con oscilador de cristal compensado por temperatura (TCXO) y cristal integrado. El dispositivo incorpora una entrada de batería y mantiene un reloj preciso cuando se interrumpe la alimentación principal del dispositivo.
La integración del resonador de cristal mejora la precisión a largo plazo del dispositivo.
El RTC mantiene la información de los segundos, minutos, horas, día, fecha, mes y año. La fecha al final del mes se ajusta automáticamente para los meses con menos de 31 días, incluyendo las correcciones para el año bisiesto. El reloj funciona en formato de 24 horas o 12 horas con un indicador AM/PM. Se proporcionan dos alarmas programables de hora del día y una salida de onda cuadrada programable. La dirección y los datos se transfieren en serie a través de un bus bidireccional I2C.
Una referencia de voltaje compensada por temperatura de precisión y un circuito comparador monitorean el estado del VCC para detectar fallas de energía, proporcionar una salida de reajuste y cambiar automáticamente a la fuente de reserva cuando sea necesario.

\begin{comment}

\section{Módulo Sensor de Nivel de Agua}
\begin{wrapfigure}[11]{r}{6cm}
	\begin{center}
		\includegraphics[width=5cm]{sensor6.jpg}
	\end{center}
	\caption{Módulo Sensor de Nivel de Agua}
	\label{s6}
\end{wrapfigure}
El sensor de agua está diseñado para la detección de agua y se puede usar para confirmar la presencia de lluvia, nivel de agua en un determinado punto o alerta por fuga de agua.
Básicamente el sensor de agua se compone de un conector, un bloque resitivo de 1 Mega Ohms y una serie de líneas conductivas.
Las lineas conductivas si detectan agua cierran el circuito interno dando una caída de tensión que podemos leer por el pin de señal.

En otras palabras, el sensor de agua sirve para leer un nivel de agua variando a lo largo de sus láminas conductoras de manera que conectado a una entrada analógica nos devolverá diferentes valores de tensión dependiendo de la cantidad de agua que cubra la zona de láminas paralelas.

\subsection{Características}
\begin{itemize}
	\item Alimentación: 3 - 5V
	\item	Consumo: menor que 20mA
	\item 	Deteción analógica
	\item 	Area de detección 40 x 16mm
	\item	Temperatura de trabajo: 10 - 30ºC
\end{itemize}
\end{comment}
	\section{DHT11}
	\begin{wrapfigure}[9]{r}{6cm}
		\centering
		\includegraphics[width=5 cm]{dth11}
		\caption{Sensor DTH11}
		\label{fig:ejemplo}
	\end{wrapfigure}
	El DTH11 es un sensor digital de de temperatura y humedad. Tiene la capacidad de obtener la señal de salida calibrada de  temperatura y humedad. Este sensor incluye una medición de humedad de tipo resistivo y un componente de medición de temperatura NTC.
	Una de las principales ventajas de este sensor es que tiene la capacidad de señal de transmisión a distancia de hasta 20 metros y es de bajo costo. 
	
	
	
	
	
	\subsection{Características}	
	\begin{itemize}
		\item Voltaje 3.3v, 5v
		\item Rango de temperatura: 0-50 centigrados
		\item Humedad: 20-90 \% HR
		\item Presición de humedad: 4\% RH
	\end{itemize}
	
	\section{Sensor HC-SR04}
	\begin{wrapfigure}{r}{0.4\linewidth}
		\centering
		\includegraphics[width=0.4\textwidth]{ultrasonico}
		\caption{Sensor HC-SR04}
		\label{fig:ul}
	\end{wrapfigure}
	El sensor ultrasónico HC-SR04 es un sensor que, sirve principalmente para medir distancias  
	
	Los sensores ultrasónicos usan sonar para determinar la distancia de un objeto.
	
	Para iniciar la medición el pin Trig, el de la señal de disparo (trigger) debe recibir un pulso de cinco voltios por al menos diez micro segundos, esto indicará al sensor que transmita una ráfaga de ocho ciclos ultrasónicos a 40KHz y espere por la ráfaga reflejada cuando el sensor detecta la señal de ultrasonido en el receptor eniará una señal de en alto (5v) por el pin Echo, esta señal tendrá un retardo proporcional a la distancia, así para obtener la distancia se debe medir el Ton (tiempo en alto en el pin Echo).
	
	
	
	\subsection{Características}
	\begin{itemize}
		\item Voltaje de alimentación: +5v
		\item Corriente en espera 2mA
		\item Frecuencia de ultrasonido 40KHz
		\item Resolución 0.3 cm
	\end{itemize}


\section{Arduino nano}
\begin{wrapfigure}[6]{l}{6 cm}
	\centering
	\includegraphics[width=5cm]{nano1}
	\caption{Arduino nano.}
\end{wrapfigure}
El Arduino nano es una placa pequeña, completa y fácil de usar basada en ATmega328P, tiene las mismas capacidades que un Arduino uno pero a diferencia de este no posee un jack de alimentación DC y utiliza un cable USB Mini-1B para funcionar.\\
\subsubsection{Características}
\begin{itemize}
	\item \textbf{Microcontrolador:} ATmega328.
	\item \textbf{Voltaje de operación: }5 volts.
	\item \textbf{Voltaje de alimentación: }7-12 volts.
	\item \textbf{I/O digitales: }14 (6 PWM).
	\item \textbf{Memoria flash: }32 KB.
	\item \textbf{EEPROM: }1 KB.
	\item \textbf{Frecuencia del reloj: }16 MHz.
	\item \textbf{Dimensiones: }0.73'' x 1.70''
\end{itemize}

\section{HC-06}
\begin{wrapfigure}[10]{r}{6 cm}
	\centering
	\includegraphics[width=5 cm]{hc06}
	\caption{Modulo bluetooth HC-06}
\end{wrapfigure}
Es un modulo que permite la comunicación mediante el protocolo bluetooth (2.4 GHz) y permite la comunicación de voz y datos a través de una red llamada WPAN.\\
El modulo tiene un rango de covertura de entre 10 y 30 metros, puede trabajar a 5 y 3.3 volts. El modulo consta de 4 pines de conexión, VCC, GND, pin de transmisión (TX) y pin de recepción (RX), lo que permite que se pueda comunicar con otros dispositivos haciendo uso de la comunicación serial o UART.
\subsection{Características}
\begin{itemize}
	\item Compatible con bluetooth v2.
	\item Voltaje de alimentación: 3.3-6 volts.
	\item Voltaje de operación: 3.3 volts
	\item Baud rate ajustable: 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200.
	\item Tamaño: 1.73'' in x 0.63''
	\item Corriente de operación: < 40 mA.
\end{itemize}

\section{Base de datos (MySQL)}

Para el sensado de cualquier tipo de planta es importante considerar las 
características principales de la mencionada ya que, cada una de ellas requiere de 
cuidados diferentes. Es por ello que se debe tener en cuenta una relación de 
información para tener una efectiva empleación del sistema de riego. 
Para este proceso se emplea una base de datos.

\subsection{Definición}

Una base de datos, es una coleccion de archivos relacionados. 
Las bases de datos se componen de tablas, cada tabla se compone de una gran cantidad de filas y columnas. Cada fila contiene datos sobre una sola entidad. Estos datos se conocen como registros.
Cada columna contiene datos relacionados con el registro, llamados atributos. 
Los atributos en referencia a una tabla de base de
datos se denominan campos.

\subsection{MySQL}
Es un sistema de gestión de bases de datos relacional, fue creada por la empresa sueca MySQL AB, la cual tiene el copyright del código fuente del servidor SQL, así
como también de la marca.
MySQL es un software de código abierto, licenciado bajo la GPL de la GNU, aunque MySQL AB distribuye una versión comercial, en lo único que se diferencia de la versión libre, es en el soporte técnico que se ofrece, y la posibilidad de integrar este gestor en un software propietario, ya que de otra manera, se vulneraría la
licencia GPL.
El lenguaje de programación que utiliza MySQL es Structured Query Language (SQL) que fue desarrollado por IBM en 1981 y desde entonces es utilizado de forma generalizada en las bases de datos relacionales. 

\subsection{Características principales}
En las últimas versiones se pueden destacar las siguientes características principales:

\begin{itemize}
	\item El principal objetivo de MySQL es velocidad y robustez.
	\item Soporta gran cantidad de tipos de datos para las columnas.
	\item Gran portabilidad entre sistemas, puede trabajar en distintas plataformas y sistemas operativos.
	\item Cada base de datos cuenta con 3 archivos: Uno de estructura, uno de datos y uno de índice y soporta hasta 32 índices por tabla.
	\item Aprovecha la potencia de sistemas multiproceso, gracias a su implementación multihilo.
	\item Flexible sistema de contraseñas (passwords) y gestión de usuarios, con un muy buen nivel de seguridad en los datos.
	\item El servidor soporta mensajes de error en distintas lenguas.
	
\end{itemize}

\subsection{Ventajas de MySQL}
\begin{itemize}
	\item Velocidad al realizar las operaciones, lo que le hace uno de los gestores con mejor rendimiento.
	\item Bajo costo en requerimientos para la elaboración de bases de datos, ya que debido a su bajo consumo puede ser ejecutado en una máquina con escasos recursos sin ningún problema.
	\item Facilidad de configuración e instalación.
	\item Soporta gran variedad de Sistemas Operativos
	\item Baja probabilidad de corromper datos, incluso si los errores no se producen en el propio gestor, sino en el sistema en el que está.
	\item Conectividad y seguridad .
\end{itemize}

\section{Conexión remota}
Es la capacidad de una computadora de poderse comunicar con una aplicación, sistema, por medio del internet, para compartir información o llevar acabo una acción.\\
Dicho de otra forma, es la conexión a distancia entre dos o más equipos, donde uno de ellos permite acceder al otro como si se estuviese trabajando directamente en frente de este, mediante el empleo de un remote access software. Es decir, se puede establecer una conexion remota con uno o varios ordenadores a través de una red o el Internet. Como resultado y sin necesidad de la presencia física del usuario, se establece un acceso remoto con el que puede compartir escritorio, u obtener el control remoto de dichos ordenadores.